"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[944],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=l(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4498:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return p},metadata:function(){return l},toc:function(){return u}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],p={id:"bootstrap",title:"Bootstrap",type:"recipe"},s="Bootstrap",l={unversionedId:"features/bootstrap",id:"features/bootstrap",title:"Bootstrap",description:"Lerna links different projects within the repo so they can import each other without having to publish anything to NPM. To show how Lerna does it, we will take this repository as an example.",source:"@site/docs/features/bootstrap.md",sourceDirName:"features",slug:"/features/bootstrap",permalink:"/docs/features/bootstrap",draft:!1,editUrl:"https://github.com/lerna/lerna/tree/main/website/docs/features/bootstrap.md",tags:[],version:"current",frontMatter:{id:"bootstrap",title:"Bootstrap",type:"recipe"},sidebar:"main",previous:{title:"Features",permalink:"/docs/features"},next:{title:"Run Tasks",permalink:"/docs/features/run-tasks"}},c={},u=[{value:"Other Bootstrapping Methods",id:"other-bootstrapping-methods",level:2}],d={toc:u};function m(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"bootstrap"},"Bootstrap"),(0,o.kt)("p",null,"Lerna links different projects within the repo so they can import each other without having to publish anything to NPM. To show how Lerna does it, we will take ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/lerna/getting-started-example"},"this repository")," as an example."),(0,o.kt)("p",null,"The repo contains three packages or projects:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"header")," (a library of React components)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"footer")," (a library of React components)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"remixapp")," (an app written using the Remix framework which depends on both ",(0,o.kt)("inlineCode",{parentName:"li"},"header")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"footer"),")")),(0,o.kt)("p",null,"The Remix app imports the ",(0,o.kt)("inlineCode",{parentName:"p"},"header")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"footer")," libraries as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'jsx title="packages/remixapp/app/routes/index.tsx"',jsx:!0,title:'"packages/remixapp/app/routes/index.tsx"'},'import { Header } from "header";\nimport { Footer } from "footer";\n\nexport default function Index() {\n  return (\n    <>\n      <Header />\n      <div>Content!</div>\n      <Footer />\n    </>\n  );\n}\n')),(0,o.kt)("p",null,"And it depends on them in its ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json")," as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="packages/remixapp/package.json"',title:'"packages/remixapp/package.json"'},'{\n  "dependencies": {\n    "@remix-run/node": "^1.5.1",\n    "@remix-run/react": "^1.5.1",\n    "@remix-run/serve": "^1.5.1",\n    "react": "^17.0.2",\n    "react-dom": "^17.0.2",\n    "header": "*",\n    "footer": "*"\n  }\n}\n')),(0,o.kt)("p",null,"To make the ",(0,o.kt)("inlineCode",{parentName:"p"},"header")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"footer")," available inside the ",(0,o.kt)("inlineCode",{parentName:"p"},"remixapp"),", run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"lerna bootstrap --use-workspaces\n")),(0,o.kt)("p",null,"This installs all the dependencies needed for the 3 projects and links the ",(0,o.kt)("inlineCode",{parentName:"p"},"header")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"footer")," projects so that ",(0,o.kt)("inlineCode",{parentName:"p"},"remixapp")," can reference them like npm packages. ",(0,o.kt)("inlineCode",{parentName:"p"},"--use-workspaces")," tells Lerna to delegate package linking process to your package manager. (This feature is supported by npm, yarn and pnpm.)"),(0,o.kt)("p",null,"You can also set ",(0,o.kt)("inlineCode",{parentName:"p"},"useWorkspaces")," as the default behavior in the ",(0,o.kt)("inlineCode",{parentName:"p"},"lerna.json")," file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="lerna.json"',title:'"lerna.json"'},'{\n    ...\n    "useWorkspaces": true\n}\n')),(0,o.kt)("h2",{id:"other-bootstrapping-methods"},"Other Bootstrapping Methods"),(0,o.kt)("p",null,"Bootstrapping this way should work for most people, but you can use ",(0,o.kt)("a",{parentName:"p",href:"../concepts/alternate-bootstrapping-methods"},"Alternate Bootstrapping Methods")," if needed."))}m.isMDXComponent=!0}}]);